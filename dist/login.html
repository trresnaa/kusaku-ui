<script src="assets/js/config.js"></script>
<script src="assets/js/auth.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const loginForm = document.getElementById('loginForm');
    const emailInput = document.getElementById('email');
    const pinInput = document.getElementById('pin');
    const errorMessage = document.getElementById('errorMessage');

    loginForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      try {
        const email = emailInput.value;
        const pin = pinInput.value;

        const response = await login(email, pin);
        
        // Redirect ke halaman PIN jika login berhasil
        window.location.href = '/login-pin.html';
      } catch (error) {
        errorMessage.textContent = error.message;
        errorMessage.classList.remove('hidden');
      }
    });
  });
</script> 