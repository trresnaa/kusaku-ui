<script src="assets/js/config.js"></script>
<script src="assets/js/auth.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const registerForm = document.getElementById('registerForm');
    const nameInput = document.getElementById('name');
    const emailInput = document.getElementById('email');
    const phoneInput = document.getElementById('phone');
    const pinInput = document.getElementById('pin');
    const errorMessage = document.getElementById('errorMessage');

    registerForm.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      try {
        const name = nameInput.value;
        const email = emailInput.value;
        const phone = phoneInput.value;
        const pin = pinInput.value;

        const response = await register(name, email, phone, pin);
        
        // Redirect ke halaman konfirmasi email jika registrasi berhasil
        window.location.href = '/register-email-confirm.html';
      } catch (error) {
        errorMessage.textContent = error.message;
        errorMessage.classList.remove('hidden');
      }
    });
  });
</script> 